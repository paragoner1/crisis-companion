package com.solanasos.emergency

import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity
import com.solanasos.emergency.databinding.ActivityInfoBinding
import androidx.core.content.ContextCompat
import android.content.Intent
import androidx.appcompat.app.AlertDialog

class InfoActivity : AppCompatActivity() {
    
    private lateinit var binding: ActivityInfoBinding
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        android.widget.Toast.makeText(this, "InfoActivity onCreate!", android.widget.Toast.LENGTH_SHORT).show()
        
        // Set status bar color to match the deep navy background
        window.statusBarColor = ContextCompat.getColor(this, R.color.deep_navy)
        
        binding = ActivityInfoBinding.inflate(layoutInflater)
        setContentView(binding.root)
        
        setupUI()
    }
    
    private fun setupUI() {
        // Back button
        binding.btnBack.setOnClickListener {
            finish()
        }

        // Training section click handler
        binding.trainingSection.setOnClickListener {
            showTrainingDetails()
        }

        // Challenges section click handler
        binding.challengesSection.setOnClickListener {
            showChallengesDetails()
        }

        // Pitch Deck section click handler
        binding.pitchDeckSection.setOnClickListener {
            showPitchDeckDetails()
        }

        // Hackathon Alignment section click handler
        binding.hackathonAlignmentSection.setOnClickListener {
            showHackathonAlignmentDetails()
        }
    }

    private fun showTrainingDetails() {
        val dialog = AlertDialog.Builder(this)
            .setTitle("üéì Training & Skill Development")
            .setMessage("""
                **SERIOUS TRAINING FOR LIFE-SAVING SKILLS**
                
                **Available Training Modules:**
                
                **ü´Ä CPR Training (50 BONK + 25 SKR)**
                ‚Ä¢ Adult, child, and infant CPR techniques
                ‚Ä¢ AED usage and emergency response
                ‚Ä¢ When to perform CPR and safety protocols
                ‚Ä¢ Duration: ~10 minutes
                
                **ü©π First Aid Basics (30 BONK + 15 SKR)**
                ‚Ä¢ Emergency assessment and response
                ‚Ä¢ Basic life support techniques
                ‚Ä¢ Injury treatment and bandaging
                ‚Ä¢ Emergency communication protocols
                ‚Ä¢ Duration: ~15 minutes
                
                **üé§ Voice Recognition (25 BONK + 10 SKR)**
                ‚Ä¢ Practice emergency voice commands
                ‚Ä¢ Clear communication during stress
                ‚Ä¢ Voice activation optimization
                ‚Ä¢ Duration: ~5 minutes
                
                **‚öôÔ∏è App Features (20 BONK + 10 SKR)**
                ‚Ä¢ Settings configuration mastery
                ‚Ä¢ Demo mode usage and practice
                ‚Ä¢ Safety features optimization
                ‚Ä¢ Emergency contact management
                ‚Ä¢ Duration: ~8 minutes
                
                **üö® Emergency Types (40 BONK + 20 SKR)**
                ‚Ä¢ Recognition of 12 emergency types
                ‚Ä¢ Context-aware response protocols
                ‚Ä¢ Future emergency type expansion
                ‚Ä¢ Duration: ~12 minutes
                
                **Total Possible Rewards:** 165 BONK + 80 SKR
                
                **Why Training Matters:**
                Every completed training module means you're better prepared to save a life when seconds count. The gamification exists solely to ensure you develop and maintain these critical skills.
                
                **Daily Check-ins:** Maintain emergency readiness
                **Achievement System:** Motivate continuous learning
                **Progress Tracking:** Monitor skill development
                **Hero Levels:** Recognize life-saving expertise
            """.trimIndent())
            .setPositiveButton("Open Training Center") { dialog, _ ->
                dialog.dismiss()
                val intent = Intent(this, TrainingActivity::class.java)
                startActivity(intent)
            }
            .setNegativeButton("Got It") { dialog, _ ->
                dialog.dismiss()
            }
            .create()

        dialog.show()
    }

    private fun showChallengesDetails() {
        val dialog = AlertDialog.Builder(this)
            .setTitle("üîÑ Cross-App Challenges")
            .setMessage("""
                **COMMUNITY INTEGRATION CHALLENGES**
                
                **Available Challenges:**
                
                **CPR ‚Üî DeFi Challenge (100 BONK + 50 SKR)**
                ‚Ä¢ Complete CPR training + DeFi transaction
                ‚Ä¢ Bridge emergency skills with financial literacy
                ‚Ä¢ Duration: ~15 minutes
                
                **Emergency ‚Üî Gaming Challenge (150 BONK + 75 SKR)**
                ‚Ä¢ Emergency response + gaming achievement
                ‚Ä¢ Gamify life-saving skills
                ‚Ä¢ Duration: ~20 minutes
                
                **Safety ‚Üî Trading Challenge (120 BONK + 60 SKR)**
                ‚Ä¢ Safety training + trading activity
                ‚Ä¢ Risk management in both domains
                ‚Ä¢ Duration: ~18 minutes
                
                **Hero ‚Üî DeFi Challenge (200 BONK + 100 SKR)**
                ‚Ä¢ Hero level achievement + DeFi interaction
                ‚Ä¢ Advanced skill combination
                ‚Ä¢ Duration: ~25 minutes
                
                **Community Swap Challenge (300 BONK + 150 SKR)**
                ‚Ä¢ Community engagement + token swapping
                ‚Ä¢ Build emergency response network
                ‚Ä¢ Duration: ~30 minutes
                
                **Total Possible Rewards:** 870 BONK + 435 SKR
                
                **Purpose:** Expand emergency response network across Solana ecosystem
                **Goal:** More trained responders = more lives saved
                
                **Why Cross-App Integration:**
                By connecting emergency preparedness with other Solana activities, we create a comprehensive ecosystem where safety becomes a natural part of daily digital life.
            """.trimIndent())
            .setPositiveButton("Open Challenges") { dialog, _ ->
                dialog.dismiss()
                val intent = Intent(this, CrossAppChallengesActivity::class.java)
                startActivity(intent)
            }
            .setNegativeButton("Got It") { dialog, _ ->
                dialog.dismiss()
            }
            .create()
        
        dialog.show()
    }

    private fun showPitchDeckDetails() {
        val dialog = AlertDialog.Builder(this)
            .setTitle("üéØ HACKATHON PITCH DECK")
            .setMessage("""
                **SOLANA SOS - BE A HERO**
                Voice-Activated Emergency Response
                Paragoner Founder | Developer
                
                **üíî MOTIVATION**
                A few years ago, my 4-year-old son almost drowned. I performed CPR without knowing what I was doing. That's why I built Solana SOS.
                
                **üö® THE PROBLEM**
                3.8 million people die from preventable emergencies every year
                ‚Ä¢ Traditional apps fail in crisis
                ‚Ä¢ Manual input required / no voice activated steps
                ‚Ä¢ Internet dependent
                ‚Ä¢ 7-14 minute EMS delay
                ‚Ä¢ 10% survival drop per minute
                
                **üí° THE SOLUTION**
                Solana SOS responds to your voice in under 100 milliseconds, even without internet
                ‚Ä¢ Voice-activated - "Hey SOS, drowning help!"
                ‚Ä¢ Enterprise-grade noise filtering
                ‚Ä¢ Enterprise-grade code architecture and reliability
                ‚Ä¢ Expandable offline emergency database
                
                **üé¨ DEMO**
                Watch how "drowning help!" triggers instant CPR guidance
                Context-aware: Skips rescue steps if "out of water"
                
                **Other Features:**
                ‚Ä¢ Silent SOS: discreet location sharing and 911 calling
                ‚Ä¢ Crash detection: auto 911 with GPS
                ‚Ä¢ Trusted Network: Emergency contacts that can beat EMS
                ‚Ä¢ SOS Hero: BONK/SKR rewards
                
                **üìà MARKET**
                This is for everyone
                ‚Ä¢ Safety apps: 1.5B ‚Üí $5.2B by 2033
                ‚Ä¢ 76% parents prioritize safety when buying phones
                ‚Ä¢ 7.3B+ smartphone users in 2025
                
                **üí∞ BUSINESS MODEL**
                Default app on every mobile Seeker device
                ‚Ä¢ 40% Seeker sales uplift
                ‚Ä¢ $50M revenue by Q4 2026
                ‚Ä¢ Family subscriptions
                ‚Ä¢ Enterprise
                ‚Ä¢ Government
                
                **üèÜ COMPETITIVE ADVANTAGE**
                The only mobile device that will save your life by default
                ‚Ä¢ Hybrid online-offline
                ‚Ä¢ Blockchain secured
                ‚Ä¢ Context-aware guidance
                ‚Ä¢ Gamification for viral growth
                
                **üìä TRACTION**
                Working prototype ready for Solana Mobile deployment
                ‚Ä¢ Core tech: voice & response
                ‚Ä¢ 12 emergency types: offline coverage
                ‚Ä¢ Features: silent SOS, crash, gamification
                ‚Ä¢ Solana: verification & rewards
                ‚Ä¢ Multi-device sync: bluetooth
                
                **üóìÔ∏è ROADMAP**
                FROM HACKATHON PROTOTYPE TO SAFETY REVOLUTION
                ‚Ä¢ AUG 2025: HACKATHON SUBMISSION
                ‚Ä¢ Q1 2026: APP LAUNCH ON SEEKER
                ‚Ä¢ Q2 2026: EMERGENCY PARTNERSHIPS
                ‚Ä¢ Q3 2026: GLOBAL EXPANSION & REWARDS
                ‚Ä¢ Q4 2026: $50M+ REVENUE & CONTRACTS
                
                **üéØ CALL TO ACTION**
                ARE YOU READY TO SAVE LIVES WITH SOLANA SOS?
            """.trimIndent())
            .setPositiveButton("Got It") { dialog, _ ->
                dialog.dismiss()
            }
            .create()
        
        dialog.show()
    }

    private fun showHackathonAlignmentDetails() {
        val dialog = AlertDialog.Builder(this)
            .setTitle("üèÜ HACKATHON ALIGNMENT")
            .setMessage("""
                **Solana Ecosystem Integration**
                
                ‚Ä¢ SKR Token Rewards - Users earn Seeker ecosystem tokens for emergency preparedness and community safety actions
                ‚Ä¢ Mobile Wallet Adapter - Seamless integration with Solana Mobile wallet for secure token transactions
                ‚Ä¢ Seeker Device Optimization - Built specifically for Solana Mobile Seeker with hardware acceleration
                ‚Ä¢ dApp Store Ready - Designed for immediate deployment on Solana Mobile dApp store
                
                **Solana-Specific Benefits**
                
                ‚Ä¢ Default App Potential - Positioned to become the default safety app on every Seeker device
                ‚Ä¢ Blockchain Verification - Emergency records stored on Solana blockchain for tamper-proof documentation
                ‚Ä¢ Community Safety Network - Leverages Solana fast, low-cost transactions for real-time safety coordination
                ‚Ä¢ Token Economics - BONK and SKR rewards create sustainable engagement and community building
                
                This app is specifically designed for the Solana ecosystem, leveraging blockchain technology to create a more secure and community-driven emergency response system.
            """.trimIndent())
            .setPositiveButton("Got It") { dialog, _ ->
                dialog.dismiss()
            }
            .create()
        
        dialog.show()
    }
} 